<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>MISO : REST Testing</title>
        <meta name="description" content="An open-source LIMS for NGS sequencing centres">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/miso-lims/0.2.x/css/syntax.css">
        <link rel="stylesheet" href="/miso-lims/0.2.x/css/main.css">
				<link rel="icon" href="/miso-lims/0.2.x/favicon.ico" type="image/x-icon">
    </head>
    <body>
<a href="https://github.com/miso-lims/miso-lims"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h2><a class="brand" href="/miso-lims/0.2.x/"><img src="/miso-lims/0.2.x/images/MISO.png" alt="MISO's logo, a bowl of miso soup"/>MISO</a>
    <small>An open-source LIMS for NGS sequencing centres</small>
</h2>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <!--<li><a href="/miso-lims/0.2.x/">Home</a></li>-->
    
        
        

        
    
        
        

        
            
                <li class="nav-header">User Guides</li>
            
            <li data-order="1"><a href="/miso-lims/0.2.x/usr/user-manual-table-of-contents.html">User Manual</a></li>
        
    
        
        

        
            
                <li class="nav-header">Admin Guides</li>
            
            <li data-order="2"><a href="/miso-lims/0.2.x/adm/baremetal-installation-guide.html">Installing MISO on baremetal</a></li>
        
            
            <li data-order="2"><a href="/miso-lims/0.2.x/adm/compose-installation-guide.html">Installing MISO with docker-compose</a></li>
        
            
            <li data-order="2"><a href="/miso-lims/0.2.x/adm/admin-guide.html">Administrator's Manual</a></li>
        
            
            <li data-order="1"><a href="/miso-lims/0.2.x/adm/installation-guide.html">Building and Deploying</a></li>
        
    
        
        

        
            
                <li class="nav-header">Developer Guides</li>
            
            <li data-order="2"><a href="/miso-lims/0.2.x/dev/rest-testing.html">REST Testing</a></li>
        
            
            <li data-order="2"><a href="/miso-lims/0.2.x/dev/maven-artifacts.html">Maven artifacts</a></li>
        
            
            <li data-order="2"><a href="/miso-lims/0.2.x/dev/eclipse-code-formatting.html">Eclipse Code Formatting</a></li>
        
            
            <li data-order="2"><a href="/miso-lims/0.2.x/dev/code-style.html">Code Style</a></li>
        
            
            <li data-order="1"><a href="/miso-lims/0.2.x/dev/developers-manual.html">Developer's Manual</a></li>
        
    
        
        

        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h2>REST Testing
        
    </h2>
</div>

<h2 id="manually-testing-rest-resources-during-development">Manually Testing REST Resources During Development</h2>

<p>During development a developer can set the constant <code class="highlighter-rouge">UNAUTHENTICATED_MODE</code> to <code class="highlighter-rouge">true</code> allowing REST resources to be accessed without authentication. This is useful for manual testing and exploration. This constant is found in the class <code class="highlighter-rouge">uk.ac.bbsrc.tgac.miso.webapp.context.RestSignatureHeaderFilter</code> and should only be set to <code class="highlighter-rouge">true</code> during development. A second constant, <code class="highlighter-rouge">UNAUTHENTICATED_MODE_USER</code>, found in the same class specifies which existing user resources will be associated with when created or modified in <code class="highlighter-rouge">UNAUTHENTICATED_MODE</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RestSignatureHeaderFilter</span> <span class="kd">extends</span> <span class="n">OncePerRequestFilter</span> <span class="o">{</span>
<span class="o">...</span>
  <span class="cm">/** Used during development only. Set this to true to use REST resources without authentication. Good for manual testing/exploration. */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="n">UNAUTHENTICATED_MODE</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
  <span class="cm">/** Resources created (POST) and modified (PUT) will be associated with this user in UNAUTHENTICATED_MODE. This user must exist. */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">UNAUTHENTICATED_MODE_USER</span> <span class="o">=</span> <span class="s">"admin"</span><span class="o">;</span>
<span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>When <code class="highlighter-rouge">UNAUTHENTICATED_MODE</code> is set to <code class="highlighter-rouge">true</code> the following message will be displayed in the error log as a reminder that <code class="highlighter-rouge">UNAUTHENTICATED_MODE</code> is active<code class="highlighter-rouge">.</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>**************************************************************************************
**  DANGER!! REST requests in MISO are currently unauthenticated. This is suitable  **
**  during development only. Adjust setting in RestSignatureHeaderFilter class.     **
**************************************************************************************
</code></pre></div></div>

<h2 id="postman">Postman</h2>

<p>Postman is a browser extension to test and exercise REST web service APIs. Postman can be downloaded here: <a href="https://www.getpostman.com/">https://www.getpostman.com/</a></p>

<!--Here is a collection of MISO REST urls in the file [miso-rest.json.postman_collection](/download/attachments/10420483/miso-rest.json.postman_collection?version=1&modificationDate=1449691946000&api=v2) that you can download and import into Postman. The url (host and port) is specified as a Postman environment variable so you will need to set one up as will in order to use these urls.

Here an environment called "localhost" has been created. It contains one environment variable "url" which in this case has the value "http://localhost:8080". When setting this up make sure the value points to the particular instance of MISO being tested.
 ![Postman](/miso-lims/0.2.x/images/postman.png)-->


                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="https://github.com/TGAC/miso-lims">MISO</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
